<div class="form-group">
  <label for="chapterid">ç« èŠ‚id</label>
  <input type="number" class="form-control" id="chapterid">
</div>
<div class="form-group">
  <label for="exampleInputEmail1">æ ‡é¢˜</label>
  <input type="text" class="form-control" id="title">
</div>
  <div class="form-group">
    <label for="content">å†…å®¹</label>
    <textarea class="form-control" id="novel_content" rows="15" ></textarea>
  </div>
  <div class="form-group">
    <button class="btn btn-primary" id="submit">å­˜å…¥ï¼</button>
  </div>
  <div class="alert alert-primary" role="alert">
 æ–‡ç« ä¼šå®æ—¶ä¿å­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œä¸ä¼šè¿›è¡Œäº‘ç«¯åŒæ­¥ï¼Œå…¶å®ä¸æ˜¯å¾ˆå¯ä¿¡ğŸ˜Š<a href="javascript:;" id="huifu">æ¢å¤è‰ç¨¿</a>
 <p>æ¢å¤å‰è¯·æ³¨æ„ï¼Œæ‚¨æ²¡æœ‰å†æ¬¡è¾“å…¥ä¿¡æ¯æ¥å¡«å……ä¿å­˜çš„æ•°æ®ï¼ï¼</p>
  </div>
  <script>
    $("#novel_content").keyup(function(){
                var n_chapterid = $("#chapterid").val();
                var n_title = $("#title").val();
                var n_content = $("#novel_content").val();
                if(n_chapterid == "" || n_chapterid == null){
                    alert('è¯·åœ¨æ’°å†™ç« èŠ‚å‰è¾“å…¥ç« èŠ‚idï¼ï¼');
                    return false;
                }else{
                    localStorage.setItem('content_test',n_content);
                }
            });
            $("#submit").click(function(){
                var n_chapterid = $("#chapterid").val();
                var n_title = $("#title").val();
                var n_content = $("#novel_content").val();
                if(n_chapterid.length < 1){
                    alert("ç« èŠ‚idå¿…å¡«ï¼");
                    return false;
                }
                if(n_title.length < 1){
                    alert("æ ‡é¢˜å¿…é¡»å¡«å†™");
                    return false;
                }
                if(n_content.length < 1){
                    alert("å†…å®¹å¿…é¡»å¡«å†™");
                    return false;
                }
                var novel_list = JSON.parse(localStorage.getItem('local_novel_list'));
                if(!novel_list){
                    novel_list = [];
                }
                $("#novel_content").each(function(){
                  n_content.replace("â†µ","\n");
                });
                novel_list.push({
                    chpaterid : n_chapterid,
                    title : n_title,
                    content : n_content,
                });
                localStorage.setItem('local_novel_list',JSON.stringify(novel_list));
                alert("å­˜å‚¨ç« èŠ‚æˆåŠŸï¼");
            });
            $("#huifu").click(function(){
              $("#novel_content").val(localStorage.getItem('content_test'));
              alert('æ¢å¤æˆåŠŸ');
            });
  </script>