<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <title>基佬之家</title>
    </head>
    <body>
        <style>
            .page{
                margin-top:30px;
            }
        </style>
        <!--导航-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#index1" id="index1">首页</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#novel" id="novel">小说</a>
                </li>
                
              </ul>
              <div class="form-inline my-2 my-lg-0">
                <a class="nav-link" href="#othor" id="othor">其它</a>
                 </div>
            </div>
          </nav>
          <div class="container">
          <div class="page">
              
          </div>
        </div>
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        <script>
            //页面初始化时，加载文件index1
            var maodian = window.location.hash;
            $(document).ready(function(){
                $(".page").load('index1.html');
            });
            $(".nav-link").click(function(){
                console.log(maodian);
                var url = this.id;
                if(url == "" || url == null){
                    url = "index1";
                }
                $(".page").html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>');
                $(".page").load(url+'.html');
            });
            if(maodian == "#novel"){
            $("#content").keypress(function(){
                var n_chapterid = $("#chapterid").val();
                var n_title = $("#title").val();
                var n_content = $("#content").val();
                if(n_chapterid == "" || n_chapterid == null){
                    alert('请在撰写章节前输入章节id！！');
                    return false;
                }else{
                    localStorage.setItem('content_test',n_content);
                }
            });
            $("#submit").click(function(){
                var n_chapterid = $("#chapterid").val();
                var n_title = $("#title").val();
                var n_content = $("#content").val();
                var novel_list = JSON.parse(localStorage.getItem('local_novel_list'));
                if(!novel_list){
                    novel_list = [];
                }
                novel_list.push({
                    chpaterid : n_chapterid,
                    title : n_title,
                    content : n_content,
                });
                localStorage.setItem('local_novel_list',JSON.stringify(novel_list));
                alert("存储章节成功！");
            });
            }
        </script>
    </body>
</html>